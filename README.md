## Project Name : ATmega128기반 디지털시계 설계 및 프로그래밍 구현
---------------------------

> 마이크로프로세서 응용설계 최종 A+ 과제
## 1. 설계 목표: 
              한 학기 동안 학습한 AVR(Atmega128)을 이용하여 디지털 시계를 설계하고 프로그래밍으로 구현한다. 
              본 디지털 알람시계는 00:00:00 ~ 23:59:59 의 시간범위와 날짜 범위로 운용되며 AVR의 타이머/카운터 기능을 이용해 ‘1초’를 카운팅하여 시간을 구성한다. 
              그리고 7세그먼트(FND)를 출력인터페이스 수단으로 선택하고 2자리 세그먼트 6개로 각 시/분/초의 시간데이터, 년/월/일의 날짜 데이터를 시각적으로 출력하는 것을 목적으로 한다.
              
## 2. 설계 내용
- 디지털 시계의 알고리즘 및 동작 구성
- 프로그래밍 구현

## 3. 설계 결과
+ 3.1. 디지털 시계의 알고리즘 및 동작 구성
<img width = "30%" src= "https://user-images.githubusercontent.com/122782748/215319607-56d62dab-634e-4719-8981-bd4227898f15.png"/>
               그림 1. 디지털 시계 흐름도

               디지털 시계는 위와 같은 알고리즘을 가지고 동작하도록 설계하였다. Atmega128는 날짜 데이터(년/월/일)와 시간 데이터(시/분/초)를 설정한다.
               Timer0가 실행될 때 마다 몇 번 실행 됐는지를 카운트 하는 레지스터를 이용해 Timer가 실행되는 주기를 설정하고 Overflow의 상태를 확인하여
               인터럽트가 발생해 ss값을 ++해준다. 또한 이에 따라 ss>59 or mm>59 or hh>23 or dd>30 or mm>12이면 상위 비트를 ++해준다.
               가상으로 7 세그먼트(LCD)를 출력인터페이스 수단으로 선택하여 출력해준다.
               
+ 3.2. 프로그래밍 구현 및 시뮬레이션

아래는 설계한 프로그램이다.

<img width ="50%" src= "https://user-images.githubusercontent.com/122782748/215319932-827c6a6c-092a-46c0-a053-0a201e85702b.png"/>

<img width ="50%" src = "https://user-images.githubusercontent.com/122782748/215319994-b5720e57-5630-4c1d-9329-28b39061cc92.png"/>

<img width ="50$" src = "https://user-images.githubusercontent.com/122782748/215320080-b910c08f-180a-45f1-aaea-079dbf08bc1d.png"/>

                 실물 Atmega128과 소자들로로 설계를 진행할 수 없어서 proteus(v6.9)를 이용해 시뮬레이션을 진행하고 결과를 확인하였다.
                 설계한 대로 98년 12월 28일에서 98년 12월 29일로 넘어가는 것을 7-세그먼트를 이용해 확인할 수 있다.

<table>
  <tr>
    <td align='center'>
      <img width = "100%" src = "https://user-images.githubusercontent.com/122782748/215320231-684b7a59-4b56-4566-bfab-3b3b0eb3f293.png"/>
    </td>
    <td align='center'>
      <img width = "100%" src = "https://user-images.githubusercontent.com/122782748/215320235-5612c08e-accc-402a-ab9b-be97dc180384.png"/>
    </td>
  </tr>
</table>

## 결론
    
          본 강의를 통해 마이크로프로세서의 구조 이해, 마이크로프로세서 명령어, 마이크로프로세서 어셈블리프로그래밍 방법 등을 학습하고 이를 이용해 마이크로프로세서 시스템을 설계해 보았다. 
          Atmega128을 이용하여 디지털 시계를 설계하고 프로그래밍한 후 시뮬레이션을 진행했으며, Atmega128 내부에 있는 타이머를 이용해 클럭을 발생시켜 카운터 하고 이를 Overflow를 이용해 초를 측정할 수 있었다.
          이 값을 이용해 날짜 데이터(년/월/일)와 시간 데이터(시/분/초)를 계산할 수 있게 된다. 그리고 결과값을 짧은 간격으로 세그먼트 각각의 자리에 값을 넣어주어 한꺼번에 출력되는 것처럼 보이도록 했다. 
          이 프로젝트를 통 수업시간에 배운 것들을 응용해 보고, 한 학기 동안 학습한 것들에 대해서 확실하게 정리할 수 있는 기회를 가질 수 있었다.
          
## 작동영상
<a href="https://www.youtube.com/watch?v=XdOhE8Co6Ss">
<img width = "30%" src ="https://user-images.githubusercontent.com/122782748/215320662-3677ed27-cfc0-4016-b081-9d0ba7ca4c5d.png"/>
</a>









